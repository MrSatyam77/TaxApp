"use strict";importScripts("../../../../dist/calc-lib-import.js"),importScripts("../../../../dist/calc-source-import.js"),self.addEventListener("message",function(a){switch(a.data.msgType){case"init":calculation.calculator.init(),calculation.calcSvc.init(a.data.taxReturn),calculation.calcCtrl.init(),calculation.calcReview.init(),calculation.constant.init(a.data.constant),calculation.logger.init(a.data.log||!1);break;case"updateTaxReturn":calculation.calcSvc.init(a.data.taxReturn);break;case"ChangedField":var c=a.data.field;calculation.calcSvc.setValue(c.fieldName,c.newVal,c.index,void 0,!0),calculation.calculator.start();break;case"start":calculation.calculator.start();break;case"addCalcUrl":calculation.calcCtrl.addCalcUrl(a.data.key,a.data.url),calculation.calcReview.addUrl(a.data.key,a.data.reviewUrl);break;case"addDoc":calculation.calcSvc.addDoc(a.data.docName,a.data.index,a.data.parentIndex),setTimeout(function(){calculation.calculator.calculateDocFields(a.data.docName,a.data.index)},0);break;case"removeDoc":calculation.calcSvc.removeDoc(a.data.docName,a.data.index,!0),calculation.calculator.start();break;case"updateParent":calculation.calcSvc.updateParent(a.data.docName,a.data.index,a.data.parentIndex);break;case"reCalculate":calculation.calcSvc.reCalculate(),calculation.calculator.start();break;case"calcDocAllMethods":calculation.calculator.calculateDocFields(a.data.docName,a.data.index);break;case"performReview":calculation.calcReview.start();break;case"postUtilDB":calculation.utils.setDB(a.data.db)}},!1);